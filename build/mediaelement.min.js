/*!
 *
 * MediaElement.js
 * HTML5 <video> and <audio> shim and player
 * http://mediaelementjs.com/
 *
 * Creates a JavaScript object that mimics HTML5 MediaElement API
 * for browsers that don't understand HTML5 or can't play the provided codec
 * Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
 *
 * Copyright 2010-2014, John Dyer (http://j.hn)
 * License: MIT
 *
 */
!function(a,b){"function"==typeof define&&define.amd?define("MediaElement",[],function(){return b()}):"object"==typeof exports?module.exports=b():a.MediaElement=b(!0)}(this,function(a){var b=b||{};return b.version="2.18.1",b.meIndex=0,b.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube","video/dailymotion","video/x-dailymotion","application/x-mpegURL"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},b.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>',b.firstChild.href},getScriptPath:function(a){for(var b,c,d,e,f,g,h=0,i="",j="",k=document.getElementsByTagName("script"),l=k.length,m=a.length;l>h;h++){for(e=k[h].src,c=e.lastIndexOf("/"),c>-1?(g=e.substring(c+1),f=e.substring(0,c+1)):(g=e,f=""),b=0;m>b;b++)if(j=a[b],d=g.indexOf(j),d>-1){i=f;break}if(""!==i)break}return i},calculateTimeFormat:function(a,b,c){0>a&&(a=0),"undefined"==typeof c&&(c=25);var d=b.timeFormat,e=d[0],f=d[1]==d[0],g=f?2:1,h=":",i=Math.floor(a/3600)%24,j=Math.floor(a/60)%60,k=Math.floor(a%60),l=Math.floor((a%1*c).toFixed(3)),m=[[l,"f"],[k,"s"],[j,"m"],[i,"h"]];d.length<g&&(h=d[g]);for(var n=!1,o=0,p=m.length;p>o;o++)if(-1!==d.indexOf(m[o][1]))n=!0;else if(n){for(var q=!1,r=o;p>r;r++)if(m[r][0]>0){q=!0;break}if(!q)break;f||(d=e+d),d=m[o][1]+h+d,f&&(d=m[o][1]+d),e=m[o][1]}b.currentTimeFormat=d},twoDigitsString:function(a){return 10>a?"0"+a:String(a)},secondsToTimeCode:function(a,b){0>a&&(a=0);var c=b.framesPerSecond;"undefined"==typeof c&&(c=25);var d=b.currentTimeFormat,e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60),h=Math.floor((a%1*c).toFixed(3));lis=[[h,"f"],[g,"s"],[f,"m"],[e,"h"]];var j=d;for(i=0,len=lis.length;i<len;i++)j=j.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0])),j=j.replace(lis[i][1],lis[i][0]);return j},timeCodeToSeconds:function(a,b,c,d){"undefined"==typeof c?c=!1:"undefined"==typeof d&&(d=25);var e=a.split(":"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=0,j=0;return c&&(i=parseInt(e[3])/d),j=3600*f+60*g+h+i},convertSMPTEtoSeconds:function(a){if("string"!=typeof a)return!1;a=a.replace(",",".");var b=0,c=-1!=a.indexOf(".")?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++)d=1,e>0&&(d=Math.pow(60,e)),b+=Number(a[e])*d;return Number(b.toFixed(c))},removeSwf:function(a){var c=document.getElementById(a);c&&/object|embed/i.test(c.nodeName)&&(b.MediaFeatures.isIE?(c.style.display="none",function(){4==c.readyState?b.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))},removeObjectInIE:function(a){var b=document.getElementById(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}},b.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];return b[1]=b[1]||0,b[2]=b[2]||0,c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e,f,g,h=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[a]){if(e=this.nav.plugins[a].description,e&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[b]||this.nav.mimeTypes[b].enabledPlugin))for(h=e.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),f=0;f<h.length;f++)h[f]=parseInt(h[f].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{g=new ActiveXObject(c),g&&(h=d(g))}catch(i){}return h}},b.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[],c=a.GetVariable("$version");return c&&(c=c.split(" ")[1].split(","),b=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]),b}),b.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(a,b,c,d){for(;a.isVersionSupported(b[0]+"."+b[1]+"."+b[2]+"."+b[3]);)b[c]+=d;b[c]-=d};return c(a,b,0,1),c(a,b,1,1),c(a,b,2,1e4),c(a,b,2,1e3),c(a,b,2,100),c(a,b,2,10),c(a,b,2,1),c(a,b,3,1),b}),b.MediaFeatures={init:function(){var a,c,d=this,e=document,f=b.PluginDetector.nav,g=b.PluginDetector.ua.toLowerCase(),h=["source","track","audio","video"];d.isiPad=null!==g.match(/ipad/i),d.isiPhone=null!==g.match(/iphone/i),d.isiOS=d.isiPhone||d.isiPad,d.isAndroid=null!==g.match(/android/i),d.isBustedAndroid=null!==g.match(/android 2\.[12]/),d.isBustedNativeHTTPS="https:"===location.protocol&&(null!==g.match(/android [12]\./)||null!==g.match(/macintosh.* version.* safari/)),d.isIE=-1!=f.appName.toLowerCase().indexOf("microsoft")||null!==f.appName.toLowerCase().match(/trident/gi),d.isChrome=null!==g.match(/chrome/gi),d.isChromium=null!==g.match(/chromium/gi),d.isFirefox=null!==g.match(/firefox/gi),d.isWebkit=null!==g.match(/webkit/gi),d.isGecko=null!==g.match(/gecko/gi)&&!d.isWebkit&&!d.isIE,d.isOpera=null!==g.match(/opera/gi),d.hasTouch="ontouchstart"in window,d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(a=0;a<h.length;a++)c=document.createElement(h[a]);d.supportsMediaTag="undefined"!=typeof c.canPlayType||d.isBustedAndroid;try{c.canPlayType("video/mp4")}catch(i){d.supportsMediaTag=!1}d.hasSemiNativeFullScreen="undefined"!=typeof c.webkitEnterFullscreen,d.hasNativeFullscreen="undefined"!=typeof c.requestFullscreen,d.hasWebkitNativeFullScreen="undefined"!=typeof c.webkitRequestFullScreen,d.hasMozNativeFullScreen="undefined"!=typeof c.mozRequestFullScreen,d.hasMsNativeFullScreen="undefined"!=typeof c.msRequestFullscreen,d.hasTrueNativeFullScreen=d.hasWebkitNativeFullScreen||d.hasMozNativeFullScreen||d.hasMsNativeFullScreen,d.nativeFullScreenEnabled=d.hasTrueNativeFullScreen,d.hasMozNativeFullScreen?d.nativeFullScreenEnabled=document.mozFullScreenEnabled:d.hasMsNativeFullScreen&&(d.nativeFullScreenEnabled=document.msFullscreenEnabled),d.isChrome&&(d.hasSemiNativeFullScreen=!1),d.hasTrueNativeFullScreen&&(d.fullScreenEventName="",d.hasWebkitNativeFullScreen?d.fullScreenEventName="webkitfullscreenchange":d.hasMozNativeFullScreen?d.fullScreenEventName="mozfullscreenchange":d.hasMsNativeFullScreen&&(d.fullScreenEventName="MSFullscreenChange"),d.isFullScreen=function(){return d.hasMozNativeFullScreen?e.mozFullScreen:d.hasWebkitNativeFullScreen?e.webkitIsFullScreen:d.hasMsNativeFullScreen?null!==e.msFullscreenElement:void 0},d.requestFullScreen=function(a){d.hasWebkitNativeFullScreen?a.webkitRequestFullScreen():d.hasMozNativeFullScreen?a.mozRequestFullScreen():d.hasMsNativeFullScreen&&a.msRequestFullscreen()},d.cancelFullScreen=function(){d.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():d.hasMozNativeFullScreen?document.mozCancelFullScreen():d.hasMsNativeFullScreen&&document.msExitFullscreen()}),d.hasSemiNativeFullScreen&&g.match(/mac os x 10_5/i)&&(d.hasNativeFullScreen=!1,d.hasSemiNativeFullScreen=!1)}},b.MediaFeatures.init(),b.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName("source");b.length>0;)this.removeChild(b[0]);if("string"==typeof a)this.src=a;else{var c,d;for(c=0;c<a.length;c++)if(d=a[c],this.canPlayType(d.type)){this.src=d.src;break}}},setVideoSize:function(a,b){this.width=a,this.height=b}},b.PluginMediaElement=function(a,b,c){this.id=a,this.pluginType=b,this.src=c,this.events={},this.attributes={}},b.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(a){var c,d,e,f=b.plugins[this.pluginType];for(c=0;c<f.length;c++)if(e=f[c],b.PluginDetector.hasPluginVersion(this.pluginType,e.version))for(d=0;d<e.types.length;d++)if(a==e.types[d])return"probably";return""},positionFullscreenButton:function(a,b,c){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if("string"==typeof a)this.pluginApi.setSrc(b.Utility.absolutizeUrl(a)),this.src=b.Utility.absolutizeUrl(a);else{var c,d;for(c=0;c<a.length;c++)if(d=a[c],this.canPlayType(d.type)){this.pluginApi.setSrc(b.Utility.absolutizeUrl(d.src)),this.src=b.Utility.absolutizeUrl(d.src);break}}},setCurrentTime:function(a){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a),this.currentTime=a)},setVolume:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*a):this.pluginApi.setVolume(a),this.volume=a)},setMuted:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?(a?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=a,this.dispatchEvent({type:"volumechange"})):this.pluginApi.setMuted(a),this.muted=a)},setVideoSize:function(a,b){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(a,b,c){this.events[a]=this.events[a]||[],this.events[a].push(b)},removeEventListener:function(a,b){if(!a)return this.events={},!0;var c=this.events[a];if(!c)return!0;if(!b)return this.events[a]=[],!0;for(var d=0;d<c.length;d++)if(c[d]===b)return this.events[a].splice(d,1),!0;return!1},dispatchEvent:function(a){var b,c=this.events[a.type];if(c)for(b=0;b<c.length;b++)c[b].apply(this,[a])},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){return this.hasAttribute(a)?this.attributes[a]:""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){b.Utility.removeSwf(this.pluginElement.id),b.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},b.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b,this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a],delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case"flash":b.pluginElement=b.pluginApi=document.getElementById(a);break;case"silverlight":b.pluginElement=document.getElementById(b.id),b.pluginApi=b.pluginElement.Content.MediaElementJS}null!=b.pluginApi&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e,f,g=this.pluginMediaElements[a];if(g){d={type:b,target:g};for(e in c)g[e]=c[e],d[e]=c[e];f=c.bufferedTime||0,d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return f},length:1},g.dispatchEvent(d)}}},b.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:b.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},b.MediaElement=function(a,c){return b.HtmlMediaElementShim.create(a,c)},b.HtmlMediaElementShim={create:function(a,c){var d,e,f=b.MediaElementDefaults,g="string"==typeof a?document.getElementById(a):a,h=g.tagName.toLowerCase(),i="audio"===h||"video"===h,j=i?g.getAttribute("src"):g.getAttribute("href"),k=g.getAttribute("poster"),l=g.getAttribute("autoplay"),m=g.getAttribute("preload"),n=g.getAttribute("controls");for(e in c)f[e]=c[e];return j="undefined"==typeof j||null===j||""==j?null:j,k="undefined"==typeof k||null===k?"":k,m="undefined"==typeof m||null===m||"false"===m?"none":m,l=!("undefined"==typeof l||null===l||"false"===l),n=!("undefined"==typeof n||null===n||"false"===n),d=this.determinePlayback(g,f,b.MediaFeatures.supportsMediaTag,i,j),d.url=null!==d.url?b.Utility.absolutizeUrl(d.url):"","native"==d.method?(b.MediaFeatures.isBustedAndroid&&(g.src=d.url,g.addEventListener("click",function(){g.play()},!1)),this.updateNative(d,f,l,m)):""!==d.method?this.createPlugin(d,f,k,l,m,n):(this.createErrorMessage(d,f,k),this)},determinePlayback:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=[],s={method:"",url:"",htmlMediaElement:a,isVideo:"audio"!=a.tagName.toLowerCase()};if("undefined"!=typeof c.type&&""!==c.type)if("string"==typeof c.type)r.push({type:c.type,url:f});else for(g=0;g<c.type.length;g++)r.push({type:c.type[g],url:f});else if(null!==f)l=this.formatType(f,a.getAttribute("type")),r.push({type:l,url:f});else for(g=0;g<a.childNodes.length;g++)k=a.childNodes[g],1==k.nodeType&&"source"==k.tagName.toLowerCase()&&(f=k.getAttribute("src"),l=this.formatType(f,k.getAttribute("type")),q=k.getAttribute("media"),(!q||!window.matchMedia||window.matchMedia&&window.matchMedia(q).matches)&&r.push({type:l,url:f}));if(!e&&r.length>0&&null!==r[0].url&&this.getTypeFromFile(r[0].url).indexOf("audio")>-1&&(s.isVideo=!1),b.MediaFeatures.isBustedAndroid&&(a.canPlayType=function(a){return null!==a.match(/video\/(mp4|m4v)/gi)?"maybe":""}),b.MediaFeatures.isChromium&&(a.canPlayType=function(a){return null!==a.match(/video\/(webm|ogv|ogg)/gi)?"maybe":""}),d&&("auto"===c.mode||"auto_plugin"===c.mode||"native"===c.mode)&&(!b.MediaFeatures.isBustedNativeHTTPS||c.httpsBasicAuthSite!==!0)){for(e||(p=document.createElement(s.isVideo?"video":"audio"),a.parentNode.insertBefore(p,a),a.style.display="none",s.htmlMediaElement=a=p),g=0;g<r.length;g++)if("video/m3u8"==r[g].type||""!==a.canPlayType(r[g].type).replace(/no/,"")||""!==a.canPlayType(r[g].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==a.canPlayType(r[g].type.replace(/m4a/,"mp4")).replace(/no/,"")){s.method="native",s.url=r[g].url;break}if("native"===s.method&&(null!==s.url&&(a.src=s.url),"auto_plugin"!==c.mode))return s}if("auto"===c.mode||"auto_plugin"===c.mode||"shim"===c.mode)for(g=0;g<r.length;g++)for(l=r[g].type,h=0;h<c.plugins.length;h++)for(m=c.plugins[h],n=b.plugins[m],i=0;i<n.length;i++)if(o=n[i],null==o.version||b.PluginDetector.hasPluginVersion(m,o.version))for(j=0;j<o.types.length;j++)if(l.toLowerCase()==o.types[j].toLowerCase())return s.method=m,s.url=r[g].url,s;return"auto_plugin"===c.mode&&"native"===s.method?s:(""===s.method&&r.length>0&&(s.url=r[0].url),s)},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},getTypeFromFile:function(a){a=a.split("?")[0];var b=a.substring(a.lastIndexOf(".")+1).toLowerCase(),c=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video/":"audio/";return this.getTypeFromExtension(b,c)},getTypeFromExtension:function(a,b){switch(b=b||"",a){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return b+"mp4";case"flv":return b+"x-flv";case"webm":case"webma":case"webmv":return b+"webm";case"ogg":case"oga":case"ogv":return b+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return b+"mp2t";default:return b+a}},createErrorMessage:function(a,c,d){var e=a.htmlMediaElement,f=document.createElement("div"),g=c.customError;f.className="me-cannotplay";try{f.style.width=e.width+"px",f.style.height=e.height+"px"}catch(h){}g||(g='<a href="'+a.url+'">',""!==d&&(g+='<img src="'+d+'" width="100%" height="100%" alt="" />'),g+="<span>"+b.i18n.t("Download File")+"</span></a>"),f.innerHTML=g,e.parentNode.insertBefore(f,e),e.style.display="none",c.error(e)},createPlugin:function(a,c,d,e,f,g){var h,i,j,k=a.htmlMediaElement,l=1,m=1,n="me_"+a.method+"_"+b.meIndex++,o=new b.PluginMediaElement(n,a.method,a.url),p=document.createElement("div");o.tagName=k.tagName;for(var q=0;q<k.attributes.length;q++){var r=k.attributes[q];r.specified&&o.setAttribute(r.name,r.value)}for(i=k.parentNode;null!==i&&null!=i.tagName&&"body"!==i.tagName.toLowerCase()&&null!=i.parentNode&&null!=i.parentNode.tagName&&null!=i.parentNode.constructor&&"ShadowRoot"===i.parentNode.constructor.name;){if("p"===i.parentNode.tagName.toLowerCase()){i.parentNode.parentNode.insertBefore(i,i.parentNode);break}i=i.parentNode}switch(a.isVideo?(l=c.pluginWidth>0?c.pluginWidth:c.videoWidth>0?c.videoWidth:null!==k.getAttribute("width")?k.getAttribute("width"):c.defaultVideoWidth,m=c.pluginHeight>0?c.pluginHeight:c.videoHeight>0?c.videoHeight:null!==k.getAttribute("height")?k.getAttribute("height"):c.defaultVideoHeight,l=b.Utility.encodeUrl(l),m=b.Utility.encodeUrl(m)):c.enablePluginDebug&&(l=320,m=240),o.success=c.success,b.MediaPluginBridge.registerPluginElement(n,o,k),p.className="me-plugin",p.id=n+"_container",a.isVideo?k.parentNode.insertBefore(p,k):document.body.insertBefore(p,document.body.childNodes[0]),j=["id="+n,"jsinitfunction=mejs.MediaPluginBridge.initPlugin","jscallbackfunction=mejs.MediaPluginBridge.fireEvent","isvideo="+(a.isVideo?"true":"false"),"autoplay="+(e?"true":"false"),"preload="+f,"width="+l,"startvolume="+c.startVolume,"timerrate="+c.timerRate,"flashstreamer="+c.flashStreamer,"height="+m,"pseudostreamstart="+c.pseudoStreamingStartQueryParam],null!==a.url&&("flash"==a.method?j.push("file="+b.Utility.encodeUrl(a.url)):j.push("file="+a.url)),c.enablePluginDebug&&j.push("debug=true"),c.enablePluginSmoothing&&j.push("smoothing=true"),c.enablePseudoStreaming&&j.push("pseudostreaming=true"),g&&j.push("controls=true"),c.pluginVars&&(j=j.concat(c.pluginVars)),a.method){case"silverlight":p.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+n+'" name="'+n+'" width="'+l+'" height="'+m+'" class="mejs-shim"><param name="initParams" value="'+j.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+c.pluginPath+c.silverlightName+'" /></object>';break;case"flash":b.MediaFeatures.isIE?(h=document.createElement("div"),p.appendChild(h),h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+n+'" width="'+l+'" height="'+m+'" class="mejs-shim"><param name="movie" value="'+c.pluginPath+c.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+j.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+c.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):p.innerHTML='<embed id="'+n+'" name="'+n+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="'+c.flashScriptAccess+'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+c.pluginPath+c.flashName+'" flashvars="'+j.join("&")+'" width="'+l+'" height="'+m+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var s;-1!=a.url.lastIndexOf("youtu.be")?(s=a.url.substr(a.url.lastIndexOf("/")+1),-1!=s.indexOf("?")&&(s=s.substr(0,s.indexOf("?")))):s=a.url.substr(a.url.lastIndexOf("=")+1),youtubeSettings={container:p,containerId:p.id,pluginMediaElement:o,pluginId:n,videoId:s,height:m,width:l},b.PluginDetector.hasPluginVersion("flash",[10,0,0])?b.YouTubeApi.createFlash(youtubeSettings,c):b.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":var t=n+"_player";if(o.vimeoid=a.url.substr(a.url.lastIndexOf("/")+1),p.innerHTML='<iframe src="//player.vimeo.com/video/'+o.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+t+'" width="'+l+'" height="'+m+'" frameborder="0" class="mejs-shim" id="'+t+'" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',"function"==typeof $f){var u=$f(p.childNodes[0]);u.addEvent("ready",function(){function a(a,b,c,d){var e={type:c,target:b};"timeupdate"==c&&(b.currentTime=e.currentTime=d.seconds,b.duration=e.duration=d.duration),b.dispatchEvent(e)}u.playVideo=function(){u.api("play")},u.stopVideo=function(){u.api("unload")},u.pauseVideo=function(){u.api("pause")},u.seekTo=function(a){u.api("seekTo",a)},u.setVolume=function(a){u.api("setVolume",a)},u.setMuted=function(a){a?(u.lastVolume=u.api("getVolume"),u.api("setVolume",0)):(u.api("setVolume",u.lastVolume),delete u.lastVolume)},u.addEvent("play",function(){a(u,o,"play"),a(u,o,"playing")}),u.addEvent("pause",function(){a(u,o,"pause")}),u.addEvent("finish",function(){a(u,o,"ended")}),u.addEvent("playProgress",function(b){a(u,o,"timeupdate",b)}),o.pluginElement=p,o.pluginApi=u,b.MediaPluginBridge.initPlugin(n)})}else console.warn("You need to include froogaloop for vimeo to work")}return k.style.display="none",k.removeAttribute("autoplay"),o},updateNative:function(a,c,d,e){var f,g=a.htmlMediaElement;for(f in b.HtmlMediaElement)g[f]=b.HtmlMediaElement[f];return c.success(g,g),g}},b.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="//www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(a){this.isLoaded?this.createIframe(a):(this.loadIframeApi(),this.iframeQueue.push(a))},createIframe:function(a){var c=a.pluginMediaElement,d=new YT.Player(a.containerId,{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=d,b.MediaPluginBridge.initPlugin(a.pluginId),setInterval(function(){b.YouTubeApi.createEvent(d,c,"timeupdate")},250)},onStateChange:function(a){b.YouTubeApi.handleStateChange(a.data,d,c)}}})},createEvent:function(a,b,c){var d={type:c,target:b};if(a&&a.getDuration){b.currentTime=d.currentTime=a.getCurrentTime(),b.duration=d.duration=a.getDuration(),d.paused=b.paused,d.ended=b.ended,d.muted=a.isMuted(),d.volume=a.getVolume()/100,d.bytesTotal=a.getVideoBytesTotal(),d.bufferedBytes=a.getVideoBytesLoaded();var e=d.bufferedBytes/d.bytesTotal*d.duration;d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return e},length:1}}b.dispatchEvent(d)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var c,d="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";b.MediaFeatures.isIE?(c=document.createElement("div"),a.container.appendChild(c),c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'" class="mejs-shim"><param name="movie" value="'+d+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+options.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /></object>'):a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+d+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="'+options.flashScriptAccess+'"><param name="wmode" value="transparent"></object>'},flashReady:function(a){var c=this.flashPlayers[a],d=document.getElementById(a),e=c.pluginMediaElement;e.pluginApi=e.pluginElement=d,b.MediaPluginBridge.initPlugin(a),d.cueVideoById(c.videoId);var f=c.containerId+"_callback";window[f]=function(a){b.YouTubeApi.handleStateChange(a,d,e)},d.addEventListener("onStateChange",f),setInterval(function(){b.YouTubeApi.createEvent(d,e,"timeupdate")},250),b.YouTubeApi.createEvent(d,e,"canplay")},handleStateChange:function(a,c,d){switch(a){case-1:d.paused=!0,d.ended=!0,b.YouTubeApi.createEvent(c,d,"loadedmetadata");break;case 0:d.paused=!1,d.ended=!0,b.YouTubeApi.createEvent(c,d,"ended");break;case 1:d.paused=!1,d.ended=!1,b.YouTubeApi.createEvent(c,d,"play"),b.YouTubeApi.createEvent(c,d,"playing");break;case 2:d.paused=!0,d.ended=!1,b.YouTubeApi.createEvent(c,d,"pause");break;case 3:b.YouTubeApi.createEvent(c,d,"progress");break;case 5:}}},window.onYouTubePlayerAPIReady=function(){b.YouTubeApi.iFrameReady()},window.onYouTubePlayerReady=function(a){b.YouTubeApi.flashReady(a)},"boolean"==typeof a&&a&&(window.mejs=b),function(a,b,c){"use strict";var d={locale:{language:b.i18n&&b.i18n.locale.language||"",strings:b.i18n&&b.i18n.locale.strings||{}},ietf_lang_regex:/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/,methods:{}};d.getLanguage=function(){var a=d.locale.language||window.navigator.userLanguage||window.navigator.language;return d.ietf_lang_regex.exec(a)?a:null},"undefined"!=typeof mejsL10n&&(d.locale.language=mejsL10n.language),d.methods.checkPlain=function(a){var b,c,d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};a=String(a);for(b in d)d.hasOwnProperty(b)&&(c=new RegExp(b,"g"),a=a.replace(c,d[b]));return a},d.methods.t=function(a,b){return d.locale.strings&&d.locale.strings[b.context]&&d.locale.strings[b.context][a]&&(a=d.locale.strings[b.context][a]),d.methods.checkPlain(a)},d.t=function(a,b){if("string"==typeof a&&a.length>0){var c=d.getLanguage();return b=b||{context:c},d.methods.t(a,b)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},b.i18n=d}(document,b),function(a,b){"use strict";"undefined"!=typeof mejsL10n&&(a[mejsL10n.language]=mejsL10n.strings)}(b.i18n.locale.strings),b.MediaElement});